# RAID
Redundant Array of Inexpensive Disks -> Redundant Array of Independent Disks

---

## 一、RAID-冗余磁盘阵列 概述

由于当时大容量磁盘比较昂贵，RAID的基本思想是将多个容量较小、相对廉价的磁盘进行有机结合，从而以较低的成本获得与昂贵大容量磁盘相当的容量、性能、可靠性。随着磁盘成本和价格不断降低、RAID可以使用大部分的磁盘，RAID咨询委员会决定用‘独立’代替‘廉价’，于是RAID变成了独立磁盘冗余阵列，实际技术并未改变。

1. RAID这种设计思想作为**高性能、高可靠的存储技术**，已经得到了非常广泛的运用。

2. RAID主要利用**数据条带、镜像和数据校验**来获取高性能、可靠性、容错能力和拓展性

根据运用或组合运用这三种技术的策略和架构，可以把RAID分为不同的等级

**目前业界公认标准为RAID0~RAID5，除了RAID2外的四个等级被定为工业标准，在实际应用领域中使用最多的RAID等级是RAID0、RAID1、RAID3、RAID5、RAID6和RAID10。**

**从实现的角度看，RAID主要分为软RAID、硬RAID以及软硬混合RAID三种：**

- 软RAID所有功能均由操作系统和CPU完成，没有独立的RAID控制/处理芯片和I/O处理芯片，效率最低；

- 硬RAID配备了专门的RAID控制/处理芯片和I/O处理芯片以及阵列缓冲，不占CPU资源，但是成本高。

- 软硬混合RAID具有RAID控制/处理芯片，但缺乏I/O处理芯片，需要CPU和驱动程序来完成，性能与成本皆介于软RAID和硬RAID之间。

*RAID每一个等级代表一种实现方法和技术，等级之间并无高低之分。在实际应用中，应当根据用户的数据应用特点，综合考虑可用性、性能和成本来选择合适的RAID的等级，以及具体的实现方式。*

---

## 二、基本原理

RAID（Redundant Array of Independent Disks）

**简单地说，RAID是由多个独立的高性能磁盘驱动器组成的磁盘子系统，从而提供比单个磁盘更高的存储性能和数据冗余的技术。**

RAID是一类多磁盘管理技术，其向主机环境提供了成本适中、数据可靠性高的高性能存储。SNIA对RAID的定义：一种磁盘阵列，部分物理存储空间用来记录保存在剩余空间上的用户数据的冗余信息。当其中某一个磁盘或访问路径发生故障时，冗余信息可用来重建用户数据。磁盘条带化虽然与RAID定义不符，通常还是称为RAID（基RAID0）。

RAID的初衷是为大型服务器提供高端的存储功能和冗余的数据安全。在整个系统中，RAID被看作是由两个或更多磁盘组成的存储空间，通过并发地在多个磁盘上读取数据来提高存储系统的I/O性能。大多数RAID等级具有完备的数据校验、纠正措施，从而提高系统的容错性，甚至镜像方式，大大增强系统的可靠性，Redundant也由此而来。

RAID的两个关键目标是提高数据可靠性和I/O性能。磁盘阵列中，数据分散在多个磁盘中，然而对于计算机系统来说，就像一个单独的磁盘。通过把相同数据同时写入到多块磁盘（典型地如镜像），或者将计算的校验数据写入阵列中来获得冗余能力，当单块磁盘出现故障时可以保证不会导致数据丢失。

**RAID中主要有三个关键概念和技术：镜像（Mirroring）、数据条带（Data Stripping）和数据校验（Data parity）**

- 镜像：将数据复制到多个磁盘，一方面可以提高可靠性，另一方面可并发从两个或多个副本读取数据来提高读性能。

- 数据条带：将数据分片保存在多个不同的磁盘，多个数据分片共同组成一个完整数据副本。这与镜像的多副本是不同的，它通常基于性能考虑。数据条带具有更高的并发粒度，当访问数据时，可以同时对于不同磁盘上的数据进行读写操作，从而获得非常可观的I/O性能提升。

- 数据校验：利用冗余数据进行数据错误检测和修复，冗余数据通常采用海明码、异或操作算法等来技术获得。利用校验功能，可以很大程度提高磁盘阵列的可靠性、鲁捧（robust）性和容错能力。不过数据校验需从多出读取数据并进行计算对比，会影响系统性能。